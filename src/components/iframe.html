<!--
 * @describe: 描述
 * @Author: superDragon
 * @Date: 2019-09-10 15:39:31
 * @LastEditors: superDragon
 * @LastEditTime: 2019-09-10 17:55:49
 -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>encode</title>
  </head>
  <body>
    <script>
      // 接受父页面发来的信息
      window.addEventListener('message', function(event) {
        var data = event.data
        switch (data.cmd) {
          case 'getFormJson':
            let reportData = new Function('"use strict";return (' + data.code + ')')()
            const result = reportData(data.params)
            window.parent.postMessage(
              {
                cmd: 'returnJson',
                params: result
              },
              '*'
            )
            break
        }
      })
    </script>
  </body>
</html>
